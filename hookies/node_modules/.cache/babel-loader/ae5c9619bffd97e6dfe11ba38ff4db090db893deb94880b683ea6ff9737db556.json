{"ast":null,"code":"var _jsxFileName = \"/home/gordei/VSprojects/FULLSTACK/Project/hookies/src/components/App.js\",\n  _s = $RefreshSig$();\nimport TodoList from \"./TodoList\";\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar express = require('express');\nvar router = express.Router();\nlet start_todos = [{\n  \"id\": 1,\n  \"body\": \"asd\",\n  \"completed\": false\n}, {\n  \"id\": 2,\n  \"body\": \"vcb\",\n  \"completed\": true\n}, {\n  \"id\": 3,\n  \"body\": \"zerg\",\n  \"completed\": false\n}];\nfunction App() {\n  _s();\n  //if (localStorage.getItem(\"todos\")) {\n  //  start_todos = JSON.parse(localStorage.getItem(\"todos\"));\n  //}\n\n  const [todos, setTodos] = useState(start_todos);\n  function poppoppop() {\n    console.log(\"delete\");\n    setTodos(todos.filter((elem, index) => index !== todos.length - 1));\n    //todos.pop();\n  }\n\n  const addTodo = event => {\n    console.log(event);\n    let title = event.timeStamp;\n    setTodos([...todos, {\n      \"id\": title,\n      \"body\": \"BBB\",\n      \"completed\": true\n    }]);\n    //localStorage.setItem(\"todos\", JSON.stringify(todos));\n  };\n\n  const changeTodo = id => {\n    id = 2;\n    setTodos(todos.map(elem => {\n      if (elem.id === id) {\n        elem.completed = !elem.completed;\n      }\n      return elem;\n    }));\n    //localStorage.setItem(\"todos\", JSON.stringify(todos));\n  };\n\n  useEffect(() => {\n    setTodos(JSON.parse(localStorage.getItem(\"todos\")));\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\n    console.log(\"USEEFFECT\");\n  }, [todos]); // can be without [todos]\n\n  router.get('/', function (req, res) {\n    res.send('ab*cd');\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(TodoList, {\n      todos: todos\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"ClassSomething\",\n      onClick: poppoppop,\n      children: \"DELETE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"ClassSomething\",\n      onClick: addTodo,\n      children: \"ADD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: changeTodo,\n      children: \"CHANGE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n//router.post('/users', App);\n_s(App, \"mAUAo5yycnVKu/EX/FbQqiN8cU4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["TodoList","useState","useEffect","express","require","router","Router","start_todos","App","todos","setTodos","poppoppop","console","log","filter","elem","index","length","addTodo","event","title","timeStamp","changeTodo","id","map","completed","JSON","parse","localStorage","getItem","setItem","stringify","get","req","res","send"],"sources":["/home/gordei/VSprojects/FULLSTACK/Project/hookies/src/components/App.js"],"sourcesContent":["import TodoList from \"./TodoList\";\nimport {useState} from 'react';\nimport {useEffect} from 'react';\n\n\nvar express = require('express');\nvar router = express.Router();\n\n\nlet start_todos = [\n  {\"id\": 1, \"body\": \"asd\", \"completed\": false},\n  {\"id\": 2, \"body\": \"vcb\", \"completed\": true},\n  {\"id\": 3, \"body\": \"zerg\", \"completed\": false},\n];\n\n\nfunction App() {\n  //if (localStorage.getItem(\"todos\")) {\n  //  start_todos = JSON.parse(localStorage.getItem(\"todos\"));\n  //}\n\n  const [todos, setTodos] = useState(start_todos);\n\n  function poppoppop() {\n    console.log(\"delete\");\n    setTodos(todos.filter((elem, index) => index !== todos.length - 1));\n    //todos.pop();\n  }\n\n  const addTodo = (event) => {\n    console.log(event);\n    let title = event.timeStamp;\n    setTodos([...todos, {\"id\": title, \"body\": \"BBB\", \"completed\": true}]);\n    //localStorage.setItem(\"todos\", JSON.stringify(todos));\n  }\n\n  const changeTodo = (id) => {\n    id = 2;\n    setTodos(todos.map(elem => {\n      if (elem.id === id) {\n        elem.completed = !elem.completed;\n      }\n      return elem;\n    }));\n    //localStorage.setItem(\"todos\", JSON.stringify(todos));\n  }\n\n  useEffect(() => {\n    setTodos(JSON.parse(localStorage.getItem(\"todos\")));\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\n    console.log(\"USEEFFECT\");\n  }, [todos]); // can be without [todos]\n\n  router.get('/', function (req, res) {\n    res.send('ab*cd')\n  });\n\n  return (\n    <div className=\"App\">\n      <TodoList todos = {todos}/>\n      <button className=\"ClassSomething\" onClick={poppoppop}>DELETE</button>\n      <button className=\"ClassSomething\" onClick={addTodo}>ADD</button>\n      <button onClick={changeTodo}>CHANGE</button>\n    </div>\n  );\n}\n\n\n//router.post('/users', App);\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,YAAY;AACjC,SAAQC,QAAQ,QAAO,OAAO;AAC9B,SAAQC,SAAS,QAAO,OAAO;AAAC;AAGhC,IAAIC,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAG7B,IAAIC,WAAW,GAAG,CAChB;EAAC,IAAI,EAAE,CAAC;EAAE,MAAM,EAAE,KAAK;EAAE,WAAW,EAAE;AAAK,CAAC,EAC5C;EAAC,IAAI,EAAE,CAAC;EAAE,MAAM,EAAE,KAAK;EAAE,WAAW,EAAE;AAAI,CAAC,EAC3C;EAAC,IAAI,EAAE,CAAC;EAAE,MAAM,EAAE,MAAM;EAAE,WAAW,EAAE;AAAK,CAAC,CAC9C;AAGD,SAASC,GAAG,GAAG;EAAA;EACb;EACA;EACA;;EAEA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAACM,WAAW,CAAC;EAE/C,SAASI,SAAS,GAAG;IACnBC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrBH,QAAQ,CAACD,KAAK,CAACK,MAAM,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAKA,KAAK,KAAKP,KAAK,CAACQ,MAAM,GAAG,CAAC,CAAC,CAAC;IACnE;EACF;;EAEA,MAAMC,OAAO,GAAIC,KAAK,IAAK;IACzBP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC;IAClB,IAAIC,KAAK,GAAGD,KAAK,CAACE,SAAS;IAC3BX,QAAQ,CAAC,CAAC,GAAGD,KAAK,EAAE;MAAC,IAAI,EAAEW,KAAK;MAAE,MAAM,EAAE,KAAK;MAAE,WAAW,EAAE;IAAI,CAAC,CAAC,CAAC;IACrE;EACF,CAAC;;EAED,MAAME,UAAU,GAAIC,EAAE,IAAK;IACzBA,EAAE,GAAG,CAAC;IACNb,QAAQ,CAACD,KAAK,CAACe,GAAG,CAACT,IAAI,IAAI;MACzB,IAAIA,IAAI,CAACQ,EAAE,KAAKA,EAAE,EAAE;QAClBR,IAAI,CAACU,SAAS,GAAG,CAACV,IAAI,CAACU,SAAS;MAClC;MACA,OAAOV,IAAI;IACb,CAAC,CAAC,CAAC;IACH;EACF,CAAC;;EAEDb,SAAS,CAAC,MAAM;IACdQ,QAAQ,CAACgB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;EACrD,CAAC,EAAE,EAAE,CAAC;EAEN3B,SAAS,CAAC,MAAM;IACd0B,YAAY,CAACE,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,SAAS,CAACtB,KAAK,CAAC,CAAC;IACpDG,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;EAC1B,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC,CAAC,CAAC;;EAEbJ,MAAM,CAAC2B,GAAG,CAAC,GAAG,EAAE,UAAUC,GAAG,EAAEC,GAAG,EAAE;IAClCA,GAAG,CAACC,IAAI,CAAC,OAAO,CAAC;EACnB,CAAC,CAAC;EAEF,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA,wBAClB,QAAC,QAAQ;MAAC,KAAK,EAAI1B;IAAM;MAAA;MAAA;MAAA;IAAA,QAAE,eAC3B;MAAQ,SAAS,EAAC,gBAAgB;MAAC,OAAO,EAAEE,SAAU;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAgB,eACtE;MAAQ,SAAS,EAAC,gBAAgB;MAAC,OAAO,EAAEO,OAAQ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAa,eACjE;MAAQ,OAAO,EAAEI,UAAW;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAgB;EAAA;IAAA;IAAA;IAAA;EAAA,QACxC;AAEV;;AAGA;AAAA,GAvDSd,GAAG;AAAA,KAAHA,GAAG;AAyDZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}